---
classes:
  - apt
  - apt::unattended_upgrades
  - ubuntu

apt::always_apt_update: true

apt::unattended_upgrades::origins:
  - Ubuntu precise-security
  - Ubuntu precise-updates
apt::unattended_upgrades::mail_to: andrew@localhost
apt::unattended_upgrades::minimal_steps: true

ubuntu::sources:
  precise:
    release: precise
  updates:
    release: precise-updates
  security:
    release: precise-security
  proposed:
    release: precise-proposed
    pin: 400
  backports:
    release: precise-backports
    pin: 200
  puppetlabs:
    location: http://apt.puppetlabs.com
    repos: main dependencies
    key: 4BD6EC30
ubuntu::ppas:
  ppa:duplicity-team/ppa:
    before: Package[duplicity]
  ppa:git-core/ppa:
    before: Package[git]
  ppa:keithw/mosh:
    before: Package[mosh]
  ppa:lvillani/silversearcher:
    before: Package[silversearcher-ag]
ubuntu::repos: main universe
ubuntu::location: http://archive.ubuntu.com/ubuntu/

ufw::allows:
  allow-mosh:
    proto: udp
    port: 60000:61000
  allow-ssh:
    port: 22

ufw::limits:
  limit-ssh-from-all:
    name: 22
