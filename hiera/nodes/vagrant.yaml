---
classes:
  - gitlab
  - postgresql
  - postgresql::server
  - nginx
  - redis

gitlab::git_email: git@localhost.dev
gitlab::gitlab_dbtype: pgsql
gitlab::gitlab_dbname: git
gitlab::gitlab_dbuser: git
gitlab::gitlab_dbpwd: "%{hiera('gitlab_dbpwd')}"
gitlab::gitlab_domain: vagrant

postgresql::dbs:
  git:
    user: git
    password: "%{hiera('gitlab_dbpwd')}"

sudo::sudoers:
  nopassword:
    comment: Users without sudo password prompt
    users: vagrant
    tags:
      - NOPASSWD
      - SETENV

ufw::allows:
  allow-mosh:
    from: 192.168.0.0/24
    proto: udp
    port: 60000:61000
  allow-ssh:
    from: 192.168.0.0/24
    port: 2222
  allow-http-from-local:
    from: 192.168.0.0/24
    port: 80
